                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.1.0 #7066 (Jun 14 2012) (Linux)
                              4 ; This file was generated Tue Nov 27 20:32:55 2012
                              5 ;--------------------------------------------------------
                              6 	.module util
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strcmp
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ;  ram data
                             18 ;--------------------------------------------------------
                             19 	.area _DATA
                             20 ;--------------------------------------------------------
                             21 ; overlayable items in  ram 
                             22 ;--------------------------------------------------------
                             23 	.area _OVERLAY
                             24 ;--------------------------------------------------------
                             25 ; external initialized ram data
                             26 ;--------------------------------------------------------
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                             38 	.area _HOME
                             39 ;--------------------------------------------------------
                             40 ; code
                             41 ;--------------------------------------------------------
                             42 	.area _CODE
                             43 ;util.c:12: byte strcmp(string s1, string s2)
                             44 ;	---------------------------------
                             45 ; Function strcmp
                             46 ; ---------------------------------
   0000                      47 _strcmp_start::
   0000                      48 _strcmp:
   0000 DD E5                49 	push	ix
   0002 DD 21 00 00          50 	ld	ix,#0
   0006 DD 39                51 	add	ix,sp
   0008 F5                   52 	push	af
                             53 ;util.c:14: while((*s1 && *s2) && (*s1++ == *s2++));
   0009 DD 4E 04             54 	ld	c,4 (ix)
   000C DD 46 05             55 	ld	b,5 (ix)
   000F DD 5E 06             56 	ld	e,6 (ix)
   0012 DD 56 07             57 	ld	d,7 (ix)
   0015                      58 00103$:
   0015 0A                   59 	ld	a,(bc)
   0016 DD 77 FF             60 	ld	-1 (ix), a
   0019 B7                   61 	or	a, a
   001A 28 11                62 	jr	Z,00105$
   001C 1A                   63 	ld	a,(de)
   001D DD 77 FE             64 	ld	-2 (ix), a
   0020 B7                   65 	or	a, a
   0021 28 0A                66 	jr	Z,00105$
   0023 03                   67 	inc	bc
   0024 13                   68 	inc	de
   0025 DD 7E FF             69 	ld	a,-1 (ix)
   0028 DD 96 FE             70 	sub	a, -2 (ix)
   002B 28 E8                71 	jr	Z,00103$
   002D                      72 00105$:
                             73 ;util.c:15: return *(--s1) - *(--s2);
   002D 0B                   74 	dec	bc
   002E 0A                   75 	ld	a,(bc)
   002F 47                   76 	ld	b,a
   0030 1B                   77 	dec	de
   0031 1A                   78 	ld	a,(de)
   0032 5F                   79 	ld	e,a
   0033 78                   80 	ld	a,b
   0034 93                   81 	sub	a, e
   0035 6F                   82 	ld	l, a
   0036 DD F9                83 	ld	sp,ix
   0038 DD E1                84 	pop	ix
   003A C9                   85 	ret
   003B                      86 _strcmp_end::
                             87 	.area _CODE
                             88 	.area _CABS
